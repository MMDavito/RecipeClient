var module=angular.module("recipeApp",["ui.router"]);module.config(function($urlRouterProvider,$stateProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",templateUrl:"templates/home.html",controller:"homeCtrl"}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"loginCtrl"})}),module.controller("loginCtrl",function($scope,$rootScope,recipeService){$scope.loggIn=function(){console.log("du komer till login"),recipeService.loggIn($scope.username,$scope.password)}}),module.service("recipeService",function($q,$http,$rootScope){this.loggIn=function(username,password){var url="http://localhost:8080/RecipeServer.0.1/webresources/login",auth="Basic "+window.btoa(username+":"+password);console.log(auth),$http({url:url,method:"POST",headers:{Authorization:auth}}).then(function(data,status){console.log("loggedin"),$rootScope.isLoggedIn=!0,$rootScope.user=username,$rootScope.pass=password})}});